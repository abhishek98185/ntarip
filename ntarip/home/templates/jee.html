{% extends 'base.html' %}
{% load static %}

{% block title %}
JEE Mains Papers (2015–2020)
{% endblock %}
{% block extra_css %}
  <style>
    
    .section { margin: 15px 0; }
    .hidden { display: none; }
    .button {
      cursor: pointer;
      padding: 8px 12px;
      background-color: #007bff;
      color: white;
      border: none;
      margin: 5px;
      border-radius: 5px;
      font-size: 14px;
    }
    .subsection, .papers { margin-left: 20px; }
    .paper-option { margin-left: 40px; margin-bottom: 8px; }
  </style>
{% endblock %}

{% block body %}

  <h1>JEE Mains Previous Year Papers (2015–2020)</h1>

  <div id="main-container"></div>

  <script>
    const container = document.getElementById('main-container');
    
    for (let year = 2020; year >= 2015; year--) {
      const yearId = `year${year}`;
      const janId = `jan${year}`;
      const aprId = `apr${year}`;

      container.innerHTML += `
        <div class="section">
          <button class="button" onclick="toggleVisibility('${yearId}')">${year}</button>
          <div id="${yearId}" class="subsection hidden">
            <button class="button" onclick="toggleVisibility('${janId}')">January</button>
            <div id="${janId}" class="papers hidden">
              ${generatePapers(year, 'Jan')}
            </div>

            <button class="button" onclick="toggleVisibility('${aprId}')">April</button>
            <div id="${aprId}" class="papers hidden">
              ${generatePapers(year, 'Apr')}
            </div>
          </div>
        </div>
      `;
    }

    function generatePapers(year, session) {
      let papersHTML = '';
      for (let i = 1; i <= 10; i++) {
        papersHTML += `
          <div class="paper-option">
            <strong>Paper ${i} (${session} ${year})</strong><br>
            <button class="button">Download</button>
            <button class="button">Take Test</button>
          </div>  
        `;
      }
      return papersHTML;
    }

    function toggleVisibility(id) {
      const el = document.getElementById(id);
      if (el) el.classList.toggle('hidden');
    }
  </script>

{% endblock %}