{% extends 'base.html' %}
{% load static %}

{% block title %}
JEE Mains
{% endblock %}

{% block extra_css %}
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    padding: 20px;
  }

  h1,
  h2,
  h3 {
    color: #333;
  }

  .year-section {
    margin-bottom: 40px;
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .attempt {
    margin-top: 20px;
  }

  .paper-card {
    width: 200px;
    padding: 10px;
    background-color: #e9f3fd;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    margin: 10px;
    text-align: center;
  }

  .buttons-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }

  .paper-title {
    font-weight: bold;
    margin-bottom: 10px;
  }

  .download-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    padding: 8px 14px;
    color: #007bff;
    background-color: white;
    border: 2px solid #007bff;
    border-radius: 25px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .download-btn:hover {
    background-color: #007bff;
    color: white;
  }

  .test-btn {
    margin-top: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .test-btn:hover {
    background-color: #0056b3;
  }

  .arrow-down {
    font-size: 16px;
  }
</style>
{% endblock %}

{% block body %}
<h1>JEE Mains Previous Year Papers</h1>
<div id="papers-container"></div>


<script>
  const startYear = 2015;
  const endYear = 2025;
  const container = document.getElementById('papers-container');

  for (let year = startYear; year <= endYear; year++) {
    const yearDiv = document.createElement('div');
    yearDiv.className = 'year-section';

    const yearHeading = document.createElement('h2');
    yearHeading.textContent = `JEE Mains ${year}`;
    yearDiv.appendChild(yearHeading);

    ['January Attempt', 'April Attempt'].forEach((attempt, attemptIndex) => {
      const month = attempt.split(' ')[0]; 
      const attemptDiv = document.createElement('div');
      attemptDiv.className = 'attempt';

      const attemptHeading = document.createElement('h3');
      attemptHeading.textContent = attempt;
      attemptDiv.appendChild(attemptHeading);

      const buttonsContainer = document.createElement('div');
      buttonsContainer.className = 'buttons-container';

      for (let day = 1; day <= 5; day++) {
        for (let shift = 1; shift <= 2; shift++) {
          const paperCard = document.createElement('div');
          paperCard.className = 'paper-card';

          const paperTitle = document.createElement('div');
          paperTitle.className = 'paper-title';
          paperTitle.textContent = `Day ${day} - Shift ${shift}`;
          paperCard.appendChild(paperTitle);

          const downloadBtn = document.createElement('button');
          downloadBtn.className = 'download-btn';
          downloadBtn.innerHTML = `<span class="arrow-down">â¬‡</span> Download`;
          // downloadBtn.onclick = () => { window.open('link-to-pdf'); };

          const testBtn = document.createElement('button');
          testBtn.className = 'test-btn';
          // testBtn.href = `exam/paper/${year}/${attemptIndex + 1}/day${day}/shift${shift}`;
          testBtn.textContent = 'Give as a Test';
          testBtn.onclick = () => { window.location.href = `/exam/paper/?exam=jee-mains&year=${year}&month=${month}&day=22&shift=${shift}`; };

          paperCard.appendChild(downloadBtn);
          paperCard.appendChild(testBtn);

          buttonsContainer.appendChild(paperCard);
        }
      }

      attemptDiv.appendChild(buttonsContainer);
      yearDiv.appendChild(attemptDiv);
    });

    container.appendChild(yearDiv);
  }
</script>
{% endblock %}